<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />

    <title>Netlify CMS Development Test</title>
  </head>
  <body>
    <script src="https://deploy-preview-4150--cms-demo.netlify.app/dist/netlify-cms.js"></script>
    <script>
      const PostPreview = createClass({
        componentDidMount() {
          const { document } = this.props;
          const script = document.createElement('script');
          script.src = 'https://unpkg.com/alpinejs@2.5.0/dist/alpine.js';
          document.head.appendChild(script);
        },
        render: function () {
          const html = `
            <div x-data="{ open: false }">
              <button x-on:click="open = true">Open Dropdown</button>

              <ul x-show="open" x-on:click.away="open = false">
                Dropdown Body
              </ul>
            </div>
          `;
          return h('div', {
            dangerouslySetInnerHTML: { __html: html },
          });
        },
      });
      CMS.registerPreviewTemplate('posts', PostPreview);
    </script>
  </body>
</html>
